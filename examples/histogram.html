<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="author" content="bprinty@gmail.com">
    <title>Quorra Example Page</title>

    <!-- css -->
    <link href="../dist/quorra.css" rel="stylesheet">
    <link href="./css/common.css" rel="stylesheet">

    <!-- js -->
    <script src="./js/ace.js"></script>
    <script src="./js/common.js"></script>

    <!-- custom styles -->
    <style>
        #grouped,
        #stacked {
            width: 600px;
            height: 400px;
            margin-bottom: 20px;
            margin-top: 40px;
            margin-left: auto;
            margin-right: auto;
        }
        #grouped .plotarea,
        #stacked .plotarea {
            width: 600px;
            height: 400px;
        }
    </style>
  </head>

  <body>

    <div id="header">
        <h1>Histogram</h1>
    </div>

    <div id="plots">
        
        <div id="grouped" class="container">
            <div class="plotarea"></div>
        </div>

        <div id="grouped-editor" class="editor">  
// grouped bar
var grouped = quorra.histogram()
    .width(600)
    .height(400)
    .grid(true)
    .bins(5)
    .layout("grouped")
    .display("counts")
    .xlabel("X Axis Label")
    .ylabel("Counts")
    .color(['firebrick','steelblue']);

d3.select("#grouped .plotarea")
    .datum(data).call(grouped);
        </div>
        <p class="pre-editor">Hit Cmd+Enter for changes to take effect.</p>
        
        <div id="stacked" class="container">
            <div class="plotarea"></div>
        </div>
        
        <div id="stacked-editor" class="editor">  
// stacked bar
var stacked = quorra.histogram()
    .width(600)
    .height(400)
    .margin({"top": 20, "bottom": 40, "left": 60, "right": 100})
    .layout("stacked")
    .bins(10)
    .lposition("outside")
    .lshape("circle")
    .lmargin({"top": 0, "left": 40, "right": 0})
    .display("percent") // fraction is also possible
    .xlabel("X Axis Label")
    .ylabel("Percent")
    .yformat(d3.format("%"))
    .labelpadding({y: -10})
    .color(['firebrick','steelblue']);

d3.select("#stacked .plotarea")
    .datum(data).call(stacked);
        </div>
        <p class="pre-editor">Hit Cmd+Enter for changes to take effect.</p>

    </div>

    <script src="../lib/d3/d3.min.js"></script>
    <script src="../lib/underscore/underscore-min.js"></script>
    <script src="../dist/quorra.js"></script>
    <script>
        // simulate data
        quorra.seed(123);
        var values = d3.range(1000).map(d3.random.bates(10));
        var data = _.map(values, function(d, i){
            var grp = (quorra.random() > 0.5) ? "Good" : "Evil";
            return {
                x: d,
                y: i,
                group: grp,
                label: grp + i
            };
        });

    </script>

    <script>
        eval(parameterizeEditor('grouped-editor', '#grouped .plotarea svg'));
        eval(parameterizeEditor('stacked-editor', '#stacked .plotarea svg'));
    </script>

  </body>
</html>
