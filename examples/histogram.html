<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="author" content="bprinty@gmail.com">
    <title>Quorra Example Page</title>

    <!-- css -->
    <link href="../src/quorra.css" rel="stylesheet">

    <!-- custom styles -->
    <style>
        body {
            padding-top: 10px;
        }
        #grouped,
        #stacked {
            width: 800px;
            height: 500px;
        }
        #grouped .plotarea,
        #stacked .plotarea {
            width: 700px;
            height: 500px;
        }
    </style>
  </head>

  <body>

    <div id="grouped" class="container">
        <div class="plotarea"></div>
    </div>
    <div id="stacked" class="container">
        <div class="plotarea"></div>
    </div>

    <script src="../lib/d3/d3.min.js"></script>
    <script src="../lib/underscore/underscore-min.js"></script>
    <script src="../src/quorra.js"></script>
    <script>
        // simulate data
        quorra.seed(123);
        var values = d3.range(1000).map(d3.random.bates(10));
        var data = _.map(values, function(d, i){
            var grp = (quorra.random() > 0.5) ? "Good" : "Evil";
            return {
                x: d,
                y: i,
                group: grp,
                label: grp + i
            };
        });
        var redblue = d3.scale.ordinal().domain(["Evil", "Good"]).range(["firebrick","steelblue"]);

        // grouped bar
        var grouped = quorra.histogram()
            .width(500)
            .height(400)
            .grid(true)
            .bins(5)
            .layout("grouped")
            .display("counts")
            .xlabel("X Axis Label")
            .ylabel("Counts")
            .color(redblue);

        d3.select("#grouped .plotarea")
            .datum(data).call(grouped);

        // stacked bar
        var stacked = quorra.histogram()
            .width(500)
            .height(400)
            .layout("stacked")
            .bins(10)
            .display("percent") // fraction is also possible
            .xlabel("X Axis Label")
            .ylabel("Percent")
            .color(redblue);

        d3.select("#stacked .plotarea")
            .datum(data).call(stacked);


    </script>
  </body>
</html>
