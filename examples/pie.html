<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="author" content="bprinty@gmail.com">
    <title>Quorra Example Page</title>

    <!-- css -->
    <link href="../dist/quorra.css" rel="stylesheet">
    <link href="./css/common.css" rel="stylesheet">

    <!-- js -->
    <script src="./js/ace.js"></script>
    <script src="./js/common.js"></script>

    <!-- custom styles -->
    <style>
        #pie, 
        #hollowpie {
            width: 900px;
            height: 500px;
            margin-left: auto;
            margin-right: auto;
        }
        #pie .plotarea, 
        #hollowpie .plotarea {
            width: 900px;
            height: 500px;
        }
    </style>
  </head>

  <body>

    <div id="header">
        <h1>Pie Chart</h1>
    </div>

    <div id="plots">

        <div id="pie" class="container">
            <div class="plotarea"></div>
        </div>
        <div id="pie-editor" class="editor">        
// regular pie
var pie = quorra.pie()
    .radius(200)
    .tooltip(false)
    .color(['firebrick','forestgreen','steelblue'])
    .aggregate(function(x){ return(x.length); });

d3.select('#pie .plotarea')
    .datum(data).call(pie);
        </div>
        <p class="pre-editor">Hit Cmd+Enter for changes to take effect.</p>

        <div id="hollowpie" class="container">
            <div class="plotarea"></div>
        </div>

        <div id="hollowpie-editor" class="editor"> 
// hollow pie
var hollowpie = quorra.pie()
    .legend(false)
    .radius(200)
    .inner(100)
    .color(['firebrick','forestgreen','steelblue']);

d3.select('#hollowpie .plotarea')
    .datum([
        {x: 50, group: "Good", label: "Good"},
        {x: 150, group: "Evil", label: "Evil"},
        {x: 20, group: "Okay", label: "Okay"}
    ]).call(hollowpie);
        </div>
        <p class="pre-editor">Hit Cmd+Enter for changes to take effect.</p>
    </div>

    <script src="../lib/d3/d3.min.js"></script>
    <script src="../lib/underscore/underscore-min.js"></script>
    <script src="../dist/quorra.js"></script>
    <script>
        // simulate data
        var entries = 200;
        quorra.seed(123);
        x = _.range(entries).map(function(d) { return quorra.random() * d; });
        group = _.range(entries).map(function(d) {
            return quorra.random() > 0.5 ? 'Good' : ( quorra.random() > 0.5 ? 'Evil' : 'Okay' );
        });
        label = _.range(entries).map(function(d, i) { return group[i]+i; });
        data = [];
        for(var i=0; i<x.length; i++){
            data.push({
                x: x[i],
                group: group[i],
                label: label[i]
            });
        }

    </script>

    <script>
        eval(parameterizeEditor('pie-editor', '#pie .plotarea svg'));
        eval(parameterizeEditor('hollowpie-editor', '#hollowpie .plotarea svg'));
    </script>

  </body>
</html>
