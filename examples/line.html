<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="author" content="bprinty@gmail.com">
    <title>Quorra Example Page</title>

    <!-- css -->
    <link href="../dist/quorra.css" rel="stylesheet">
    <link href="./css/common.css" rel="stylesheet">

    <!-- js -->
    <script src="./js/ace.js"></script>
    <script src="./js/common.js"></script>

    <!-- custom styles -->
    <style>
        #line,
        #pointline {
            width: 600px;
            height: 400px;
            margin-bottom: 20px;
            margin-top: 40px;
            margin-left: auto;
            margin-right: auto;
        }
        #line .plotarea,
        #pointline .plotarea {
            width: 600px;
            height: 400px;
        }
    </style>
  </head>

  <body>

    <div id="header">
        <h1>Line Chart</h1>
    </div>

    <div id="plots">

        <div id="line" class="container">
            <div class="plotarea"></div>
        </div>

        <div id="line-editor" class="editor"> 
// area plot
var line = quorra.line()
    .width(600)
    .height(400)
    .grid(true)
    .layout('area')
    .yticks(10)
    .opacity(0.75)
    .lposition("outside")
    .lorder(['Good', 'Evil'])
    // .zoomable(true)
    .exportable(true)
    .xticks(10)
    .gshape("square")
    .interpolate("cardinal")
    .xlabel("X Axis Label")
    .ylabel("Y Axis Label")
    .color(['firebrick','steelblue'])
    .events({
        pan: function() { console.log('panning!'); },
        panstart: function() { console.log('pan start!'); },
        panend: function() { console.log('pan end!'); },
        zoom: function() { console.log('zoomed!'); },
        export: function() { console.log('exported!'); }
    }).annotation([
        {
            type: 'rectangle',
            text: 'rect',
            group: 'Evil',
            width: 10,
            height: 10,
            x: 10,
            y: 15,
            draggable: true,
            events: {
                click: function() { console.log('clicked rect!'); },
                drag: function() { console.log('dragging rect!'); },
                dragstart: function() { console.log('start dragging rect!'); },
                dragend: function() { console.log('stop dragging rect!'); }
            }
        },
        {
            type: 'triangle',
            draggable: true,
            size: 20,
            x: 10,
            y: 20
        }
    ]).annotatable({
        type: 'triangle',
        add: function(){
            console.log('in!');
        }
    });

d3.select('#line .plotarea')
    .datum(data).call(line);
        </div>
        <p class="pre-editor">Hit Cmd+Enter for changes to take effect.</p>

        <div id="pointline" class="container">
            <div class="plotarea"></div>
        </div>

        <div id="pointline-editor" class="editor"> 
// line with points
var pointline = quorra.line()
    .width(600)
    .height(400)
    .opacity(0.75)
    .xrange([5, 40])
    .lposition("outside")
    .lshape("circle")
    .labelposition("end")
    .yaxis("inside")
    .xaxis("outside")
    .zoomable(true)
    .points(5)
    .xlabel("X Axis Label")
    .ylabel("Y Axis Label")
    .color(['firebrick','steelblue']);

d3.select('#pointline .plotarea')
    .datum(data).call(pointline);
        </div>
        <p class="pre-editor">Hit Cmd+Enter for changes to take effect.</p>

    </div>

    <script src="../lib/d3/d3.min.js"></script>
    <script src="../lib/underscore/underscore-min.js"></script>
    <script src="../dist/quorra.js"></script>
    <script>
        // simulate data
        var entries = 50;
        quorra.seed(123);
        x = _.range(entries).map(function(d) { return d; });
        y = _.range(entries).map(function(d) { return quorra.random() * d; });
        group = _.range(entries).map(function(d) {
            return quorra.random() > 0.5 ? 'Good' : 'Evil';
        });
        label = _.range(entries).map(function(d, i) { return group[i]+i; });
        data = [];
        for(var i=0; i<x.length; i++){
            data.push({
                x: x[i],
                y: y[i],
                group: group[i],
                label: label[i]
            });
        }

    </script>

    <script>
        eval(parameterizeEditor('line-editor', '#line .plotarea svg'));
        eval(parameterizeEditor('pointline-editor', '#pointline .plotarea svg'));
        console.log(line.layout());
        console.log(pointline.layout());
    </script>

  </body>
</html>
